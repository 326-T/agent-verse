# Agent Research

エージェント自動生成を検証するためのリポジトリ

## 概要

このプロジェクトは、LangGraph を使用した複雑なマルチエージェントシステムです。OpenAI のモデルを活用して、エージェントの自動生成、評価、最適化機能を研究・検証することを目的としています。

### 主な機能

- **マルチエージェントシステム**: 複数の専門エージェントが協調して動作
- **エージェント自動生成**: プロンプトの自動生成と最適化
- **性能評価システム**: エージェントの応答品質を自動評価
- **動的ルーティング**: ユーザークエリを最適なエージェントに振り分け
- **エスカレーション機能**: 必要に応じて人間オペレーターに引き継ぎ

## 技術スタック

- **Python 3.12+**: プログラミング言語
- **LangGraph**: グラフベースのマルチエージェントフレームワーク
- **LangChain**: LLM アプリケーション開発フレームワーク
- **LangChain OpenAI**: OpenAI API 統合
- **Pydantic**: データ検証とモデル管理
- **uv**: 高速パッケージマネージャー

## アーキテクチャ

このプロジェクトは以下の主要コンポーネントで構成されています：

### コアモジュール

- **main.py**: アプリケーションのエントリーポイント
- **project/graph.py**: LangGraph の複雑なマルチノードグラフ定義
- **project/model.py**: カスタム状態管理モデル（CustomMessageState）

### エージェントモジュール

- **agents/**: メインの対話エージェント
- **coordinator/**: エージェント間のワークフロー調整
- **orchestrator/**: リクエストのルーティング管理
- **generator/**: 新しいエージェントプロンプトの生成
- **evaluator/**: エージェント性能の評価
- **optimizer/**: 評価結果に基づくプロンプト最適化

### ワークフロー

1. **ユーザー入力**: ユーザーからのクエリを受け取り
2. **オーケストレーション**: 最適なエージェントまたは人間オペレーターにルーティング
3. **エージェント処理**: 選択されたエージェントがクエリを処理
4. **コーディネーション**: 会話の終了を検知し、適切な事後処理に誘導する
5. **評価・最適化**: エージェントの性能評価と継続的改善

## セットアップ

### 前提条件

- Python 3.12 以上
- OpenAI API キー

### インストール

1. リポジトリをクローン

```bash
git clone <repository-url>
cd agent-research
```

2. 依存関係をインストール

```bash
uv sync
```

3. 環境変数を設定

```bash
cp .env.sample .env
# .envファイルにOpenAI APIキーを設定
```

## 使い方

### アプリケーションの起動

```bash
uv run langgraph up
```

アプリケーションが起動すると、LangGraph Studio を通してエージェントと対話できます。

### 開発コマンド

```bash
# 依存関係の追加
uv add <パッケージ名>

# 依存関係の更新
uv sync
```
